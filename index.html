<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>K-FRUITS SAGA</title>
  <style>
    :root {
      --gold: #ffcc00;
      --cyan: #4dffcc;
      --dark-bg: #0a002a;
      --board-bg: rgba(10, 5, 30, 0.7);
      --cell-bg: rgba(20, 10, 40, 0.8);
    }

    body {
      margin: 0;
      background: linear-gradient(135deg, var(--dark-bg), #1a004a);
      color: white;
      font-family: 'Segoe UI', sans-serif;
      height: 100vh;
      overflow-x: hidden;
      position: relative;
    }

    body::before {
      content: "";
      position: absolute;
      top: 0; left: 0; width: 100%; height: 100%;
      background: 
        radial-gradient(circle at 10% 20%, rgba(255,255,255,0.8) 1px, transparent 1px),
        radial-gradient(circle at 30% 50%, rgba(255,255,255,0.6) 1px, transparent 1px);
      background-size: 100px 100px, 150px 150px;
      z-index: -1;
    }

    #header-banner { text-align: center; margin: 10px 0; }
    #title { font-size: 36px; color: #ffcc00; text-shadow: 0 0 10px #ff9900; }
    #score-display { display: flex; justify-content: center; gap: 4px; margin: 15px 0; }
    .digit { width: 48px; height: 64px; background: #001a4d; border: 2px solid #ffcc00; border-radius: 10px; display: flex; justify-content: center; align-items: center; font-size: 32px; color: #ffcc00; }
    #objective { background: #002a55; padding: 8px 15px; border-radius: 12px; display: inline-block; }
    #objective-text { color: #4dffcc; font-weight: bold; }

    #board {
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      gap: 6px;
      padding: 12px;
      background: var(--board-bg);
      border-radius: 16px;      margin: 0 auto;
      max-width: 400px;
    }
    .cell {
      aspect-ratio: 1;
      background: var(--cell-bg);
      border-radius: 14px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 28px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.4);
      cursor: pointer;
    }

    #moves-row { display: flex; justify-content: center; gap: 6px; margin: 15px 0; }
    .move-fruit { width: 26px; height: 26px; background: #0066cc; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 14px; }
    #tools { display: flex; justify-content: space-around; padding: 15px 0; background: rgba(10,5,30,0.8); }
    .tool { width: 64px; height: 64px; background: rgba(30,15,50,0.9); border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 28px; }
    #level-info { text-align: center; color: #aaa; font-size: 14px; margin-top: 10px; }
  </style>
</head>
<body>

<div id="header-banner">
  <h1 id="title">K-FRUITS <span style="color:#4dffcc">SAGA</span></h1>
</div>

<div id="score-display">
  <div class="digit">0</div>
  <div class="digit">0</div>
  <div class="digit">0</div>
  <div class="digit">0</div>
</div>

<div style="text-align:center;">
  <div id="objective">Objetivo: <span id="objective-text">20</span> ğŸ“</div>
</div>

<div id="moves-row">
  <div class="move-fruit">ğŸ“</div><div class="move-fruit">ğŸ“</div><div class="move-fruit">ğŸ“</div><div class="move-fruit">ğŸ“</div>
  <div class="move-fruit">ğŸ“</div><div class="move-fruit">ğŸ“</div><div class="move-fruit">ğŸ“</div><div class="move-fruit">ğŸ“</div>
  <div class="move-fruit">ğŸ“</div><div class="move-fruit">ğŸ“</div><div class="move-fruit">ğŸ“</div><div class="move-fruit">ğŸ“</div>
  <div class="move-fruit">ğŸ“</div><div class="move-fruit">ğŸ“</div><div class="move-fruit">ğŸ“</div>
</div>

<div id="board"></div>

<div id="tools">
  <div class="tool">ğŸ’</div>  <div class="tool">ğŸ§²</div>
  <div class="tool">â†»</div>
</div>

<div id="level-info">Nivel 1 | Mundo: RAÃZ | Tablero: 8Ã—8</div>

<script>
// === CONFIGURACIÃ“N ===
const FRUITS = ['ğŸ', 'ğŸ“', 'ğŸŒ', 'ğŸ¥', 'ğŸ‡', 'ğŸ¥‘', 'ğŸ¥­', 'ğŸ'];
let score = 0, target = 20, movesLeft = 15;
const boardSize = { rows: 8, cols: 8 };
let board = [];

// === INICIALIZAR JUEGO ===
function initGame() {
  try {
    const boardEl = document.getElementById('board');
    if (!boardEl) throw 'board element not found';

    boardEl.innerHTML = '';
    board = [];

    for (let r = 0; r < boardSize.rows; r++) {
      board[r] = [];
      for (let c = 0; c < boardSize.cols; c++) {
        const fruit = FRUITS[Math.floor(Math.random() * FRUITS.length)];
        board[r][c] = fruit;

        const cell = document.createElement('div');
        cell.className = 'cell';
        cell.textContent = fruit;
        cell.dataset.r = r;
        cell.dataset.c = c;
        cell.addEventListener('click', () => handleCellClick(r, c));
        boardEl.appendChild(cell);
      }
    }

    updateUI();
    autoClearInitialCombos();
  } catch (e) {
    console.error('Error en initGame:', e);
    alert('Error al cargar el juego. Recarga la pÃ¡gina.');
  }
}

// === MANEJAR TOQUE ===
function handleCellClick(r, c) {
  // Simplificado: solo muestra alert para probar que funciona
  alert(`Tocaste fruta en (${r},${c})`);}

// === AUTO-ELIMINAR COMBOS INICIALES ===
function autoClearInitialCombos() {
  // Por ahora, solo aseguramos que el tablero exista
  console.log('Auto-clear: tablero listo');
}

// === ACTUALIZAR UI ===
function updateUI() {
  document.querySelector('#objective-text').textContent = target;
}

// === INICIAR ===
window.addEventListener('load', () => {
  setTimeout(initGame, 300);
});
</script>
</body>
</html>
